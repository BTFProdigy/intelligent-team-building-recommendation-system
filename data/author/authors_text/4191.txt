Planning Word-order Dependent Focu s Assignments* 
Cornelia Endriss and Ralf Klabunde 
University of Heidelberg 
Center for Computational Linguistics 
Karlstr. 2, 69117 Heidelberg, Germany 
{endriss, klabunde}@j anus. gs. uni-heidelberg, de 
Abstract 
Word order and accent placement are the primary 
linguistic means to indicate focus/background struc- 
tures in German. This paper presents a pipelined ar- 
chitecture for the generation of German monologues 
with contextually appropriate word order and accent 
placements for the realization of focus/background 
structures. Our emphasis is on the sentence plan- 
ner that extends the respective propositional con- 
tents with discourse-relational features and decides 
which part will be focused. Such an enriched se- 
mantic input for an HPSG-based formulator allows 
word order variations and the placement of prenu- 
cleus and nucleus accents. Word order is realized 
by grammatical competition based on linear prece- 
dence (LP) rules which are based on the discourse- 
relational features. Accent placement is realized by 
a syntax-driven focus principle that determines the 
focus exponent and possible bearers of prenucleus 
accents within the syntactically realized focus, the 
so-called focus domain. 
1 Focus  and  word  order  
determinat ion  as  sentence  
p lann ing  tasks  
This paper addresses aspects of the control of in- 
tonation belonging to the area of sentence planning 
\[Beale et al, 1998: Wanner and Hovy, 1996\]. In 
many languages, intonation can reflect pragmati- 
cally motivated conceptual decisions. In particu- 
lar, focus/background structures (FBSs) reflect the 
speaker's beliefs of the listener's information state. 
Since FBSs are realized in German primarily by 
word order dependent accent placements, focus plan- 
ning and word order determination are subtasks of 
sentence planning. 
Due to the complex interactions anaong the vari- 
ous subtasks of sentence planning \[Hovy and Wan- 
* The research reported in this paper is funded by the DFG 
(German Science Foundation) in the priority program "Lan- 
guage Product ion" under grant lie 146T/3-I. The authors 
would like to thank the three anonymous referees for helpful 
comments  and suggestions. All remaining mistakes are, of 
course .  OUF o~vn.  
her, 1996\] proposed a blackboard-based sentence 
planner instead of a pipelined architecture. How- 
ever, we will demonstrate - as a byproduct of our 
approach to focus planning - that in some cases the 
complexity of interactions can be realized by a tradi- 
tional top-down expansion process. The intertwined 
clause-internal organization of focus planning and 
word order determination for the realization of FBSs 
in German is obtainable by hierarchical planning. 
In what follows, we will first give examples of the 
interplay of focus and word order in German. We 
will present he architecture of our NLG system that 
realizes FBSs and describe in more detail hierarchi- 
cal sentence planning for FBSs. By means of some 
examples we are finally showing how word order de- 
pendent focus assignment works. 
2 The  in terp lay  o f  focus  and  word  
order  
The pragmatic function of the FBS is to indicate 
to the listener of an utterance that a certain part 
of that utterance has been put into the foreground. 
The semantic information of this foregrounded part. 
has either been selected from a set of alternative 
beliefs ascribed t.o the listener, or it is a revision 
of certain beliefs (in case of contrastive focus), or 
the focused phrase expresses 'new' information the 
listener does not know or is not able to infer from 
his beliefs \[Halliday, 1967\]. 1 
In all three cases the focus domain - the syntact i," 
realization of a focus - contains the so-called focus 
exponent, i.e. the bearer of the focal accent which 
we are identifying with the obligatory' nucleus ac- 
cent. The existence of this accent indicates to the 
listener that one part of the message conveys one 
of these three functions. In addition to the nucleus 
accent optional prenucleus accents can exist as well 
which do not have a discourse function in general. 
I This list of apparent ly  diverse functions hows that there 
are possibly several phenomena which have been labeh!d as 
'focus' within the last 70 years or so. There is an ongoing 
discussion in the l inguist ic community  whether these three 
functions can be traced back to one common principle (of. 
\[Schwarzschild, 1999\]). 
156 
but a prosodic function which goes back to diverse 
planning phenomena . . . . . . . . .  ~. 
Three examples shall demonstrate the interplay of 
word order with accent placement. Example (3) is 
from our speech corpus of retellings of a trick film we 
analyzed to obtain rules for accent placement. The 
other examples are variations of (3) showing that dif- 
ferent word order and accent placement correspond 
to different focus domains. For reasons of simplicity 
we are abstracting from specific pitch accents in this 
paper. Accent bearers are given, in capitals. Fur :  
thermore, tile examples do not exhibit prenucleus 
accents. However, our rules for accent placement 
account for these accents as well. The reason is that 
prenucleus accents are determinable if the bearer of 
the nucleus accent is known. 
1. er fiillt in die STEINebene runter 
he falls in the stone plateau down 
'he is falling down to the stone plateau' 
2. in die STEINebene fiillt er runter 
3. er f6llt RUNter in die STEINebene 
Semanticians pointed out that the key concept for 
word order and its consequences for accent place- 
ment is contextual boundedness ( ee, e.g., \[Jackend- 
off, 1972; Rooth, 1992\]). However, their method 
to simulate the different contexts by questions the 
sentence is able to answer tells us only something 
about the number of possible loci. For example, 
sentence (1) is able to answer five possible questions, 
depending on which constituent provides the answer 
(the contexts range from Which specific plateau is he 
falling down to? with focus on tile compound only to 
What's up?, focusing the whole sentence). Example 
(2), however, with the locative PP in sentence-initial 
position but identical accent placement is only able 
to answer three questions. Hence, (2) is contextu- 
ally more bounded than (1). Example (3) exhibiting 
an extraposed unit clearly demonstrates the need for 
an FBS-related word order. Extrapositions are the 
linguistic means in German to separate sense units. 
Tile extraposition is used to mark two informational 
units: first, the person is falling down and second 
that the resulting place is the stone plateau. Since 
informational units coincide with prosodic phrases, 
each phrase conta ins  one nucleus accent so ti~at, two 
separate focus domains exist. 
From an NLG perspective xplaining word order 
and accent placement by tile possibility to answer 
context questions points to tile wrong direction. Nei- 
ther should we generate isolated sentences nor are 
we interested in focus ambiguities. Rather we have 
to determine a certain word order with a twofold 
purpose: first, it must be able to express a planned 
focus and second, it should guarantee coherence of 
~he text. 
To our knowledge, the problem of how word or- 
...... ...der`~m?td.:fc"cM`d?main?determin:`.~`ti~n``interact` has not 
been adressed in NLG research yet. The SYNPHON- 
ICS formulator \[Abb et al, 1995\] that is able to gen- 
erate German single sentences.with FBSs does not 
take into account he interplay between word order 
and accent placement. Instead word order is deter- 
mined by incremental syntactic onstruction; situa- 
rive factors have not been addressed in this system. 
The SPEAK! system \[Teich et al, 1997\] also does not 
account_for the interplay.of word .order with. accent 
placement. However, this system cannot be directly 
compared with our approach, since the coverage of 
phonological phenomena is completely different: We 
are interested in FBSs in monologues, whereas the 
SPEAK! system primarily accounts for the role of a 
dialogue history to achieve the assignment of various 
intonation patterns. 
Generally, the realized word order of an utter- 
ance is the result of its embedding into the situa- 
tive context, which finds expression in the use of 
linear precedence (LP) rules for word order determi- 
nation during surface realization. The idea is that 
constituents are ordered with respect o preferential 
properties expressed by these LP-rules. From an 
NLG perspective the question is, then, where the 
information comes from that allows us to make use 
of these LP-rules?" In our approach we derive the 
information necessary for the use of LP-rules from 
a discourse model that relates various aspects of a 
discourse to one another. Since we are generating 
monologues only the utterances previously produced 
by the program require consideration. 
Tile generation of monologues with appropriate 
word order and focus/background structures com- 
prises five major tasks: 
1. The information to be conveyed must be se- 
lected and linearized by a content planner. 
2. During sentence planning: 
(a) foci n-lllSt be determined, and 
(b) conditions for word order realization must 
be given. 
3. During surface realization: 
(a) the loci must be mapped onto focus do- 
mains while tile sentences with their re- 
spective word order are fornmlated, and 
(b) the bearers of (pre)nucleus.accents within 
each focus domain must be determined. 
Since this paper addresses sentence planning, we are 
focusing on tasks (2a) and (21)) only. We are leav- 
ing aside content planning (task 1) because the lit> 
earization problem does not affect FBS determina- 
lion. The content planner provides the respectiw' 
propositions lhal will be extended during sentence 
157 
planning by pragmatic information for realizing the 
FBS. The result of sentence planning functions .as 
input for a competit ion-based fornmlator. In or- 
der to demonstrate how the formulator is able to 
realize FBSs by means of grammatical competition, 
we will also outline the determination of focus do- 
mains, word order, and accent bearers in focus do- 
mains (tasks 3a and 3b). 
3 Architecture of FOGS 
The five tasks mentioned above are realized in our 
NLG system FOGS. 2 Currently the system generates 
brief retellings era trick film with each sentence hav- 
ing a contextually appropriate word order and focus- 
relevant prosody with the context provided by the 
discourse model. Figure (1) shows the architecture 
of the system. Sentence planning takes into consid- 
eration the current state of a discourse model. When 
constructing the input for the formulator, the dis- 
course model will be continuously updated so that 
the word order of the currently planned sentence is 
coherent with the word order of the preceding sen- 
tence. Word order relevant information is encoded 
by discourse relational features of discourse refer- 
ents. 
The HPSG-based formulator realizing the sen- 
tences uses weighted LP-rules for word order de- 
termination that take into account the discourse- 
relational features in the semantic input. Bearers of 
(pre)nucleus accents within focus domains are deter- 
mined by a focus principle. 
4 Sentence planning in FOGS 
The planning operators creating the input for the 
formulator cause the transition to new states of the 
discourse model. The initial state of the discourse 
model is characterized by the lack of any information 
on the events to be conveyed. Correspondingly in 
the goal state all events are represented. 
Our discourse model is a knowledge store consist- 
ing of two major registers. It consists of a Discourse 
Representation Structure (DRS. cf. \[Kamp and 
Reyle, 1993\]) (R. I'() with sets of mutually known 
discourse referents R and DRS-conditions h, and a 
set Ref of referential movements assigned to the dis- 
course referents, lI/eferential movements det.ermine 
how discourse referents "are passed on from one sen- 
tence to tile next one. H is a pair (RA, RN} consist- 
ing of referents of tile directly preceding utterance 
and referents of all-other previous utterances. Since 
referential movements are typically linked with iden- 
tifiability conditions for discourse referents, ttle lat- 
ter can be derived front the former. New referents 
are declared as being unidentifiable for the listener. 
2Not to be confused with FOG, a system that generates 
weather forecasts\[Goldberg t t a/.. 199-I\]. Foc;s is the acronym 
for "focus generation system'. 
% \[ discourse r lational q f~res refined plan q focu~ground \[ 
} de leTt ion  I 
pragmatically enriched 
input 
Lemma Selector 
lemmas 
Formulator \] 
Prosodically annotated 
monologue 
Conienl Planner 
linearizalion 
i 
abs~aci plan 
Sentence Planner 
I 
Figure 1: Architecture of FOGS 
while re-established ones should typically be identi- 
fiable by a definite description. Maintained referents 
are usually anaphorically identifiable. Furthermore, 
alternative sets All are determined by sortal restric- 
tions. Discourse referents function as alternatives if
they are stored in the discourse model ill R and are 
instances of the same superordinated concept. Anal  
ogously, concepts are alternatives if they are stored 
in the discourse model in K and possess the same 
directly superordinated concept. During planning 
the discourse model will be continuously updated. 
Updating comprises the insertion of new discourse 
referents into RA. shifting referents from t?.-I to I5.\. 
and, in case of referential re-establishment, shifting 
referents from RN to RA. Furthermore, new \[)FIS 
conditions will be introduced into )Y, and the ref- 
erential movement conditions are updated, resulting 
also in new alternative sets and identifiability con- 
ditions Id. 
W~ use a hierarchical planner \[Sacerdot.i, .1974\]. 
The content planner provides the abstract plan. 
Plan refinement during sentence planning con- 
sists of the proposition-wise introduction of oper- 
ators for the discourse relational features and fo- 
cus/background determination. The result of apply- 
ing the operators to tile single propositions functions 
as nput Io the formulator. 
158 
4.1 D iscourse- re la t iona l  features  4.2 Focus and background determinat ion  
Extending the propositions by.-disc~otrrsecelationat ......... We~lreadypointed~out.t.h~t-.foGusing-asemanticrep-. 
features makes intensive use of the discourse model. 
Three discourse relational .factors influencing word 
order are realized as plan operators: topic assign- 
ment, referential movement, and identifiability of 
discourse referents by the listener. 
Topic ass ignment :  Topics establish an 
aboutness-relation between a familiar discourse 
referent and the sentential predication. We adopt 
:the conditions for tooic:assignment.-:propoSed " in '  
\[Klabunde and Jansche, 1998\]. Topic candidates 
must be identifiable discourse referents and they 
should be as high on a so-called topic acceptance 
scale as possible. According to such a scale referents 
that are currently lit up constitute the best topic 
candidates. In our approach, these are referents 
from the intersection of RA and the referents of 
the current event proposition to be realized. The 
topic acceptance scale is mirrored in the successive 
application of operators for topic assignment. For 
example, if several referents as candidates exist, 
a discourse referent will be chosen that is marked 
as anaphorically identifiable and referentially 
maintained: 
topicAssignment (Event ,Eventl) : 
PKE: \ [ (RA f7 EventRs = Topics), 
E 6 Topics, 
anaphId(E) 6 Id, 
refMaintained(E) 6 Id\] 
EFF: \[topic(E) U Event = Eventl\] 
DEL : \[\] 
The LP-rule referring to topic ass ignment  is top ic  
< :focus, i.e. topics should precede loci. 
Re ferent ia l  movement :  Referential movement 
comprises the picking up of discourse referents from 
previously uttered information and the introduc- 
tion of new referents, respectively. If referents 
from the directly preceding utterance are picked up, 
these referents are maintained. Referents from all 
other previous utterances are re-established. Flef- 
erential movement influences word order because 
maintained referents are usually realized before re- 
established ones, and re-established ones precede 
new referents, as indicated by the following LP-rule: 
re fMa inta ined  < re fReEstab l i shed  < new 
Ident i f iab i l i ty :  With respect to identifiability 
of discourse referents, we distinguish between 
anaphoric identifiability, identifiabilit.y by a definite 
description, and referents that. are non-identifiable 
for the listener. Identifiability influences word or- 
der as well because anaphorically identifiable ref- 
erents are usually realized before dethfites and 
those precede non-identifiable referents: anaphld < 
de:finiteld < nonId. 
resentation is based on one of three functions: the 
selection of beliefs from a set of alternatives, con- 
trasting a belief with a different one, and indicating 
new information. These three functions have also 
been verified in our corpus of story tellings. Each of 
these functions has been treated separately in vari- 
ous systems (see, e.g., \[Prevost and Steedman, 1993\] 
for contrastive focus in a concept-to-speech system, 
.\[Thetme.:et _al.,..:1997.\]. for, n .ew :in.formation i a .data.-. 
to-speech system, and \[Blok and Eberle, 1999\] for 
alternative semantics in machine translation), but 
a single and comprehensive approach as not been 
proposed yet. However, structure and content of 
our discourse model allow us to determine FBSs by 
means of planning operators as well. Different pre- 
conditions for the focus determining operator esult 
in the successive check whether one of these three 
functions is satisfied. First it is checked whether the 
proposition to be conveyed contains any informa- 
tion that is new for the listener. New information 
is what is not stored in the DRS K of the discourse 
model, a If these preconditions are not satisfied it is 
checked whether parts of the proposition belong to 
alternatives presumed by the listener. Only if these 
preconditions fail a contrasting focus is realizable. 
Contrasting focus is realized if some property in K 
of an activated iscourse referent in RA contradicts 
a property in the semantic input under considera- 
tion, provided the same sortal restriction holds as 
for the alternatives. 
5 Sur face  rea l i za t ion  as grammat ica l  
compet i t ion  
The resulting input for grammatical competition is 
a blend of semantic and pragmatic information. For 
example, the input for realizing example (1) is as 
follows: 
focus: \[fallingDowa(e,m), into(e,s), stonePlateau(s), 
definiteld(s), refReEstablishment(s)\] 
ground: \[man(m), anaphld(m), refMaintenance(m), 
topic(m)\] 
The constants m, s, and e are referents for a spe- 
cific man, stone plateau, and tile evenl of falling 
down. The values of the features :focus and ground 
represent he focused part of the proposition and 
? the background, respectively. While tile realization 
of the focus domain is the task of converting the 
complete focus into one phrase, word order will be 
determined by LP-rules that pick up the pragmati- 
call2,' motivated literals on topichood, identifial)ility, 
and referential movement. 
aThis implies that we are ignoring any inferential capabil- 
ities in the current system. 
159 
As already mentioned, the notion of grammati-  
cal competition is necessary to account, for the in-. 
teraction of syntactic and phonological constraints 
on focus/background structures. The idea to use 
a competition model to explain word order varia- 
tions in German is not new (of. \[Steinberger, 1994; 
Uszkoreit, 1987\]). The advantage of grammatical 
competition compared to a non-competitive use of 
precedence rules (as in standard HPSG) is its flex- 
ibility. A competition model allows to take syntac- 
tic as well as semantic and pragmatic preferences 
into consideration, and to determine'the acceptabil- 
ity of a sentence with respect to the situative con- 
text. The usual approach is to formulate preference 
rules which have a certain impact on the naturalness 
of constituent orders. Some of these preference rules 
are stronger than others. The number of preference 
rules which are satisfied or violated, in combination 
with the relative importance of the different factors, 
is responsible for the varying degree of naturalness 
of word order variations. Analogously to this idea 
we use weighted LP-rules as well which are based 
on the planned discourse-relational features. 
Focus domains are realized by means of a focus 
principle. Applying the focus principle results in 
the projection of a focus feature to the dominating 
node. Together with the standard HPSG-principles 
the focus principle confines the successive applica- 
tion of the head-complement, head-filler, and head- 
adjunct schemata to two lemmas in order to build 
up phrases and sentences. The focus principle con- 
strains the placement, of prenucleus and nucleus ac- 
cents in view of the syntactic status of the phrasal 
signs. It is based on the following empirically vali- 
dated regularities with respect to the placement of 
the nucleus and prenucleus accents: 
1. in phrases with a head-daughter and adjunct- 
daughter the focus exponent is in the head- 
daughter and a prenucleus accent is in the 
adj unct-daughter. 
2. for phrases with a head-daughter and 
complement-daughter holds: 
(a) if the head-daughter is a verbal projec- 
tion, the focus exponent is in the head- 
daughter and a prenucleus accent is in the 
complement daughter. 
(b) else the accents are in the complement-- 
daughter. 
The regularities underlying the nucleus and prenu- 
cleus accent placement have been formulated on the 
basis of an analysis of a story telling corpus. The 
tellings have been analyzed w.r.t, the position of 
pitch accents and their indication of possible fo- 
cus domains. Two resuhs of \[his analysis shall he 
memioned here: First, the analysis howed that the 
overwhelming number of focus domain determina- 
gEon can.be explained.by.syntax-based.projection 
rules (see, e.g., \[Gfinther, 1999; Ladd, 1996\] for some 
proposals) underlying our focus principle. Second, 
given the three basic pragmatic functions of FBSs, 
primarily information that was new to the listener 
has been accented. Contrastiveness was confned to 
focal accents on certain closed-class items such as 
determiners. 4 
While focus domains  are realized by a syntactic 
principle, word order will be realized by means of 
weighted-LP-ru les.  Since especially the LP-rule 
? top ic  < focus requires information on focused con- 
stituents focus determination must be completed be- 
fore word order will be realized. We introduced the 
necessary LP-rules in section 4.1. 
Based on these LP-rules word order will be deter- 
mined by means of the operation of domain union 
proposed in \[Reape, 1994\]. If the head or the daugh- 
ter is a verbal projection the domain of the phrase 
will be received by domain union. Verbal projec- 
tions are of interest for word order realization be- 
cause only in this case the LP-rules will be evalu- 
ated. Otherwise the domains will be combined ac- 
cording to the directionality feature DIR of the head 
and a MOD-DIR feature of an adjunct. The for- 
mer determines the order of head and complement, 
while the latter is responsible for the order of ad- 
juncts and their modified element. Since in this case 
no LP-rules have to be evaluated, word order deter- 
ruination is a trivial task. 
6 Resu l ts  
The system just described produces brief retellings 
of one episode of the aforementioned trick film based 
on a knowledge base representing the single events 
and a discourse model. Depending on the content of 
the discourse model word order of the respective sen- 
tences and focus assignments differ. We are giving 
one detailed example showing the different status of 
the discourse model and its influence on the realiza- 
tion of word order and the FBS. After that some 
texts FOGS is able to generate are presented. 
Let the content of the discourse model be as fol- 
lows:  
RAo = @ 
RNo = {s ,m,d , . . .}  
A'O = {desertPlateau(d), stonePlateau(s), 
littleMan(m), fallingDowll(e,m), ...} 
Refo = {refMaintenance(s), 
refReEstablishme~t(m),...} 
Alto = {alt(stonePlatea,(s), {desertPlateau(d)}), 
alt(in(e,s),{on(e,s)})} 
Id 0 = {definiteld(m), definiteld(s),...} 
.1Note that determiners as bearers of nucleus accents do 
not const i tute  a problem for our system. In this case only 
the identif iabi l i ty condit ion belongs to the focus, which will 
I.~,. mapped ont,~ a corresponding lemma. 
160 
The content planner deterlnines 
fallingDown(e,.m) , - in (e , . s ) ,  s~oneP&ateau(-s) ,. 
l i t t leHan(m)  as the proposition to be conveyed. 
The operator for topic assignment marks s as 
sentence topic because it i s  the currently best 
available topic according to the topic acceptance 
scale. Referential movement is as follows: since s 
has been declared in the discourse model as being 
referentially maintained, it will be maintained in the 
first utterance as well. Discourse referent m was re- 
established and, therefore, will become referentially 
maintained. Since referent S wasidentifiable by /i 
definite description for the listener and is the topic, 
it remains identifiable by definite means, resulting in 
a definite NP. Referent m was identifiable by definite 
means and becomes anaphorically identifiable. 
Focus and background are determined as follows: 
first it is checked whether any information in the 
proposition is new to the listener. Since all liter- 
als from the propositional content also exist in if, 
nothing can be focused due to being 'new' informa- 
tion. However, there are two literals in the propo- 
sitional content with explicitly represented alterna- 
tives. Since both literals can be linguistically real- 
ized as one constituent (as a PP), only one focus 
domain and one focus exponent will appear. 
The resulting utterance is in die STEINebene fa'llt 
er runter with the locative PP in clause-initial posi- 
tion and accent on the noun-noun compound. The 
PP has been fronted because it receives the best eval- 
uation w.r.t, the three discourse-relational features. 
The compound functions as focus exponent because 
the whole PP constitutes the focus domain, which is 
managed by the focus principle. 
Taken all effects of the planning operators to- 
gether, the updated discourse model is as follows: 
R~, = {~,~} 
RNI  = {d . . . .  } 
hl = No 
Ref l  = {re fReEstab l  i shed(s )  , 
re fMa intenoa lce  (m) , . . . } 
Ale1 = Alto 
Idl = {anaph Id(m) ,  de : f in i te Id (s ) , . . .}  
The next proposition to be conveyed is 
i itt leman (m), walk ingAround (e i, m). T he 
new senterlce topic will be m. Anaphoric identi- 
fiability and referential maintenance of referent ra 
would usually result in keeping these .conditions 
for the linguistic realization so that a pronoun will 
be generated. However, the topic shift results in 
a change to identifiability by a definite description 
for m in the following sentence. The event literal 
is focused because it provides new information, 
resulting in the VP as focus domain. According to 
the focus principle, the prefix receives the nucleus 
accent. 5 The resulling utterance is Das Ma',mchen 
:; \Ve adop l  an approach  to the  gonerat ion  ,~f separab le  pre- 
fix verbs  proposed  by \[Le\[,+'t h. 1992\] that  is based  on ad junc -  
161 
Muff umHER (the little man walks aROUND). 
Exemplary brief retellings of the, film.epi~ode:gen- .. 
erated by FOGS are given below. Note that the single 
sentences always express the same respective propo- 
sitional content. What ..differs are the word order 
and/or the position of the nucleus accent. These dif- 
ferences in word order and accent placement are due 
to the varying content of the discourse model, the 
different possibilities for focus determination, and 
the effects of the applicable planning operators for 
referential movement, opic assignment, and identi- .. . ? _ _ . ,  . , . . 
fiability. " 
1. In die Steinebene fa'llt es runter auf der Suche 
nach Wasser. 
Das Miinnnchen Muff umHER. 
PlStzlich schieflen STEINttirme aus der Erde 
auf. 
Die Steinttirme rheben das MANNchen. 
A rough translation is: 
While looking for water it is falling down to 
the STONE plateau. The little man is running 
aROUND. Suddenly stone pillars are shooting 
up from the GROUND. The stone pillars lift up 
the little MAN. 
2. Es fiillt auf der Suche nach Wasser in die 
" STEINebene runter. 
Es hluft umHER. 
PlStzlich schieflen aus der ERde Steintiirme 
a@ 
Die Steintiirme rheben das Mii'NNchen. 
3. Es fiillt auf der Suche nach Wasser m die 
STEINebene runter. 
Es lh'uft umHER. 
PlStzlich schieflen STEINtiirme aus der Erde 
auf. 
Die Steint(irme rheben das M,4"NNchen. 
4. Es fSllt auf der Suche nach WASser m die 
Steinebene runter. 
Es 15uft umHER. 
Pldtzlich schieflen STEINt(irme aus dcr l\]rdc 
a uf. 
Dic Stemtiirme rhebeu das ,U:i'N:Vche, 
7 Summary  and  out look  
Sentence planning for the realization of fo- 
cus/background structures in German comprises the 
-determination of .discourse relational.features for 
the realization of an appropriate word order and 
the determination of the focus of the respective 
propositions. With this information available a 
competition based formulator is able to realize the 
focus donlain, word order, and accent bearers within 
the focus domain. 
t ion  and  compat i l ) le  wit h our  fi)cus pr inc ip le .  
While hierarchical planning of discourse relational 
features for the use of LP-rules during surface real- 
ization seems to be a promising approach for word 
order dependent focus/background determination, 
additional constraints on word order are required 
to block overgeneration. The three LP-rules 6 are 
necessary, but no sufficient means to determine free 
word order in general. Next to these discourse- 
related rules there are syntactic and semantic re- 
strictions on word order as well. However, due to 
their discourse-related nature, the conditions for us- 
ing our LP-rutes can be-derived from the. discourse 
model. Syntactic and semantic onstraints on word 
order do not require a discourse model. 
To summarize, the combination of hierarchical 
content planning with grammatical competition i  
view of a focus principle seems to be a promising 
approach for focus/background determination. 
Re ferences  
Abb, B; G/inther, C.; Herweg, M.; Lebeth, K.; 
Maienborn, C. and Schopp, A. (1995) Incremental 
syntactic and phonological encoding - an outline 
of the SVNPHONICS-Formulator. In: G. Adorni 
and M. Zock (Eds.) Trends in Natural Language 
Generation. Berlin: Springer. 
Beale, S.; Nirenburg, S.; Viegas, E. & Wanner, 
L. (1998) De-Constraining Text Generation. Pro- 
ceedings of the Ninth International Workshop 
on Natural Language Generation. Niagara-on-the- 
Lake, Canada; 48-57. 
Blok, P. & K. Eberle (1999) What Is the Alter- 
native? The Computation of Focus Alternatives 
from Lexical and Sortal Information. In: P. Bosch 
& R. van der Sandt (Eds.) Focus. Linguistic, 
Cognitive, and Computational Perspectives. Cam- 
bridge: Cambridge University Press; 105-120. 
Goldberg, E.; Driedger, N. & Kittredge, R. (19!)4) 
Using Natural-Language Processing to Produce 
Weather Forecasts. IEEE Expert, 9 (2): 45-53. 
G/inther, C. (1999) Prosodic und gpraehproduktzon 
T~bingen: Niemeyer. 
ttalliday. M.A.K. (1967) Notes on transitivily and 
theme in English. Journal of Lmguzstics. 3: 199- 
244. 
Hovy, E. & L. Wanner (1996) Managing Sentence 
Planning Requirements. Proceedings of the ECAI 
Workshop Gaps and Bridges: New Directions in 
Planning and Natural Language Generation. 
Jackendoff, R. (1972) Semantic .Intewretation tn 
Generative Grammar. Cambridge, Mass.: MIT 
Press. 
Kamp. t1. & U. I~eyle (1993) From Discourse to 
Logic. I)ordrecht: l(luwer. 
6topic < focus :  refMainta ined < refRegstabl ished < 
new: anaphId < def initeId < nonId 
Klabunde, R. & M. Jansche (1998) Abductive rea- 
soning for syntactic realizatiot|:.Proceedings of the. 
Ninth International Workshop on Natural Lan- 
guage Generation. Niagara-on-the-Lake, Canada; 
108-117. -~ 
Ladd, D.R. (1996) Intonational Phonology. Cam- 
bridge: Cambridge University Press. 
Lebeth, K. (1992) Zur Analyse yon trennbaren 
lokalen Prdfizverben in der HPSG. Stuttgart, IBM 
Germany, IWBS Report 224. 
Prevost, S.. & M. Steedman (1993) Generating Con- 
textually Appropriate Intonation. Proceedings of 
the Sixth Conference of the European Chapter 
of the Association for Computational Linguistics. 
Utrecht; 332-340. 
Reape, M. (1994) Domain Union and Word Order 
Variation in German. In: J. Nerbonne, K, Net- 
ter & C. Pollard (eds.) German in Head-Driven 
Phrase Structure Grammar. CSLI Lecture Notes; 
46. Stanford, CA: CSLI; 151-197. 
Rooth, M. (1992) A Theory of Focus Interpretation. 
Natural Language Semantics I; 75-116. 
Sacerdoti, E. (1974) Planning in a hierarchy of ab- 
straction spaces. Artificial Intelligence, 5; 115- 
135. 
Schwarzschild, R. (1999) GIVENness, AvoidF and 
other Constraints on the Placement of Focus. To 
appear in: Natural Language Semantics. 
Steinberger, R. (1994) Treating 'free word order' 
in German. Proceedings of the 15th International 
Conference on Computational Linguistics (COL- 
ING). Kyoto. 
Teich, E.; E. Hagen; B. Grote & J. Bateman (1997) 
From comnmnicative context o speech: Integrat- 
ing dialogue processing, speech production and 
natural anguage generation. Speech Commumca- 
tion, ~1; 73-99. 
Theune, M.; E. Klabbers; J. Odijk ~ J.R. de Pi- 
jper (1997) Computing prosodic properties in a 
data-to-speech system. Proceedings of the work- 
shop on Concept-to-Speech Generation 5'.t/stems. 
ACL/EACL, Madrid; 39-45. 
Uszkoreit, tt. (1987) Word Order and Constttucnt 
Structure m German. CSLI Lecture Notes. 
Chicago: University of Chicago Press. 
Wanner, L. & E. How (1996) The HeahhDoc Sen- 
tence Planner. Proceedings of the Sth lntcrna- 
tional Workshop on Natural Language Genera- 
twn. Herstmonceux Castle, 1-10. 
162 
Abstract 
This paper describes ongoing work on the choice 
of modal expressions in the generation of recom-
mendations about courses of study within the B.A.-
program of the Ruhr-Universit?t Bochum. We fo-
cus our work on the German modal verbs m?ssen 
(must), k?nnen (can), the subjunctive form sollte 
(should), and d?rfen (may). The idea is to combine 
insights from formal semantics into the meaning of 
modal verbs with requirements for their choice in 
NLG-systems in order to achieve a linguistically 
satisfying model of their choice. The overall model 
is implemented in the CAN-system that plans 
courses of study and generates recommendations 
about them.   
1 Introduction 
From a typological perspective, modality concerns the 
speaker?s estimation of the possible and necessary occur-
rence, respectively, of some state of affairs [van der Auwera 
and Plungian, 1998]. In many languages, modality is lin-
guistically realized by a whole bundle of different means, 
with modal verbs being the most prominent ones.  
In this paper, we will describe the realization of uses of the 
four German modal verbs m?ssen (must, have to, need to), 
k?nnen (can, to be able to), d?rfen (may, could, to be al-
lowed to do) and the subjunctive form of sollen, i.e. sollte 
(should). As the English translations indicate, there is no 
simple correspondence between the meaning of these Ger-
man modal verbs and their counterparts in other languages. 
In particular, the pragmatic conditions for their use differ 
widely so that a straightforward adoption of the conditions 
we are giving in this paper to other languages will probably 
not be possible. 
In general, the problem of the choice of modal verbs is the 
fact that the use of modals is, among other things, deter-
mined by information that is usually only implicitly given in 
a discourse. This information must be made available during 
macroplanning for the entire text in a way that enables the 
choice of the contextually appropriate modal verbs.  
In what follows, we will first outline the semantics and 
pragmatics of modal verbs in general, and the four German 
modals plus sollen in particular. Based on this, we will de-
lineate our choice model for modals and its application to 
the aforementioned four modal verbs. Finally, we will show 
how this model is integrated into the CAN-System that we 
are currently developing.  
2 The meanings of modal verbs 
The meaning of modals is deeply rooted in information that 
is only implicitly given in a discourse, but plays a crucial 
role in the full understanding of the underlying speaker?s 
intention. This context-dependence results in different read-
ings. A sentence like Peter must attend the lecture on se-
mantics can be interpreted in numerous ways: It could ex-
press that according to the knowledge of the speaker it is 
necessary that Peter attends this lecture, or that Peter?s 
course of study requires his attendance in the lecture on se-
mantics.  
Since Kratzer?s (1977) seminal work on a uniform and for-
mal treatment of the semantics of modal verbs, the context-
dependence of the meaning of modals is traced back to so-
called conversational backgrounds (also called modal do-
mains or modal bases) that provide that information against 
which the modalized sentence has to be interpreted. Accord-
ing to her widely accepted analysis in formal semantics, the 
meaning of modal verbs depends on the class of permitted 
conversational backgrounds and the so-called modal force, 
i.e. whether the modal verbs express possibility or necessity. 
Possibility and necessity are defined as consistency and en-
tailment with respect to the respective conversational back-
ground: a proposition is possible if it is consistent with the 
relevant background, and it is necessary if it is entailed by 
the conversational background.  
Accordingly, modal verbs differ in their semantics with re-
spect to these two parameters: their inherent modal force, 
and the classes of modal domains associated with them.1 
                                                 
1 In more recent works, Kratzer`s (1977) original work has 
been extended to a doubly relative analysis of modal verbs: Their 
meaning does not only depend on one modal domain, but addition-
ally on a second one, the ?ordering source?. An ordering source is 
a set of propositions that describes the plausibility of the states 
given in the primary modal domain. Since this refinement of 
Kratzer?s work does not concern our treatment of the choice of 
When must should be chosen 
Ralf Klabunde 
Ruhr-Universit?t Bochum 
Department of Linguistics 
D- 44780 Bochum 
klabunde@linguistics.rub.de 
The classifications of relevant conversational backgrounds 
that have been postulated for an adequate analysis of the 
meaning of modal expressions differ widely in the literature. 
They range from two types ? a basic distinction between 
epistemic and ?root? modals - to more than twenty in von 
Stechow?s (2004) classification.  
Kratzer uses a modal logic to describe the meaning of modal 
verbs. However, she leaves open what conversational back-
grounds really are (besides their characterization as sets of 
propositions), although this concept is the linchpin of a sat-
isfying analysis of the meaning of modals.  
Also discourse-oriented approaches to the meaning of mo-
dals as, e.g., Roberts (1989), Frank (1996), or Stone (1999) 
do not say much about the structure and content of conver-
sational backgrounds. These approaches analyze specific 
uses of modals as anaphoric expressions: in some discourse 
segments, modals pick up modal domains introduced by 
previous modal expressions, and must be interpreted against 
this already introduced hypothetical scenario. Stone (1999), 
for example, gives the following sentence pair:  
 
(1) A wolf might walk into the house. It would eat you. 
 
In order to interpret the second modalized sentence cor-
rectly, the anaphoric connection between the content of that 
sentence and the possible scenario of the first one must be 
made explicit.  
 
2.1 The meaning of m?ssen, d?rfen, sollen, sollte, 
and k?nnen 
We will outline what semanticians have to say about the 
meaning of these modal verbs, and characterize those prag-
matic conditions for their use that are of importance for this 
paper.  
M?ssen and sollen both express necessity as modal force. 
The semantic difference between these two verbs concerns 
the admissible conversational backgrounds: While m?ssen 
can be used with any conversational background, the use of 
sollen is restricted to specific ones, viz. those that express a 
specified ideal like laws or social norms. For example, while 
the sentence  
 
(2) Peter muss den Kurs besuchen  
(Peter must attend the lecture)  
 
can, in principle, be interpreted with respect to any kind of 
conversational background, some of these backgrounds are 
not possible for the sentence Peter soll den Kurs besuchen 
(Peter shall attend the lecture). The former sentence can be 
interpreted as: 
1. In view of what is known by the speaker/the lis-
tener/?, it is necessary that Peter attends the lec-
ture (epistemic interpretation) 
                                                                                  
modals in this paper, we will not go into the details. However, we 
will pick up that point in the depiction of our future work. 
2. In view of what the conditions of study determines, 
it is necessary that Peter attends the lecture (deon-
tic interpretation) 
3. in view of someone?s will, it is necessary that Peter 
attends the lecture (volitional interpretation) 
4. in view of achieving certain goals in is necessary 
that Peter attends the lecture (teleological interpre-
tation)  
   and so on.  
 
Sollen, however, cannot presuppose conversational back-
grounds that are evoked by the subject (cf, von Stechow, 
2004; Zifonun et al, 1997). For example, a deontic interpre-
tation of Peter soll den Kurs besuchen is not possible with 
the respective obligations as conversational backgrounds 
determined by Peter himself.  
In addition to the modal verbs, mood is also a linguistic 
means to express modality. Often, mood weakens the modal 
force so that sollte does not express the necessity of the em-
bedded proposition anymore, but a weaker modal force that 
comes close to possibility.  
K?nnen and d?rfen seem to be the counterparts of m?ssen 
and sollen. They express possibility as modal force. K?nnen 
is not confined to specific conversational backgrounds, 
while d?rfen can ? similar to sollen - only be used with ex-
tra-subjective ideal backgrounds, preferably deontic ones. 
The sentence 
 
(3) Peter darf den Kurs besuchen  
(Peter may attend the lecture) 
 
means: his attendance of the lecture is compatible with his 
duties (imposed by someone else), the conditions of study, 
the will of a third person, some relevant facts, and so on.  
Although this semantic analysis shows convincingly the 
relevance of the modal force and the conversational back-
grounds for a systematic treatment of the meaning of mo-
dals, it cannot be the whole story of the meaning of modals. 
If conversational backgrounds and modal forces would suf-
ficiently explain the meaning of modals, every modal verb 
with a restricted set of admissible conversational back-
grounds could be replaced by the modals k?nnen and 
m?ssen, respectively, without changing the meaning of the 
respective sentence. Although this might be true with re-
spect to the truth conditions of the single sentences, replac-
ing the specific modals by more general ones nevertheless 
results in sentences with different readings. For example, 
replacing the sentence  
 
(4) Du darfst den Semantik-Kurs besuchen und du solltest 
 den Syntax-Kurs besuchen (You may attend the  
semantics lecture and you should visit the lecture on  
syntax) 
 
by the sentence 
 
(4?)  Du kannst den Semantik-Kurs besuchen und du  
m?sstest den Syntax-Kurs besuchen (You can attend 
the semantics lecture and you ought to attend the  
lecture on syntax) 
 
leads to different prominent meanings: while the first sen-
tence clearly expresses a permission and a recommendation, 
the second one is more neutral with respect to the relevant 
pragmatic meaning. Additionally, the second clause ex-
presses a weak deontically motivated entailment.  
Hence, the modal verbs are associated with specific prag-
matic conditions for their use. We will refer to those prag-
matics aspects only that are crucial for our treatment of the 
modals. We start from the assumption that the uses of 
m?ssen and k?nnen do not require specific pragmatic con-
straints. Sollte does not express necessity (as the indicative 
sollen does) but possibility, and shall be used if the goal of 
the system is to express the proposition as a strong advice. 
D?rfen shall be used if the system expresses a permission 
that is based on the courses the user has completed success-
fully so far, or if the user has the permission to study at all.  
2 Modality in natural language generation 
systems  
In general, there is not much work on the computational 
treatment of modals, be it in NL Understanding or NL Gen-
eration.  
There seems to be a clear gap between the relevance of mo-
dality in texts and dialogues produced by human speakers 
and its consideration in NLG-systems. While modal expres-
sions appear in all kinds of text genres produced by humans, 
be it newspaper articles or dialogue contributions, their re-
alization in NLG-systems did not receive much attention so 
far.2 This disregarding of modality might be due to the na-
ture of the text types that typically describe entities as, e.g., 
animals (Peba-II; Milosavljevic 1997) or air?qualities 
(TEMSIS, Busemann and Horacek 1997). All of these gen-
eration systems present data or knowledge units that are 
?true? in a certain sense. None of these systems have to 
cope with an estimation whether some events will happen 
with a specific probability, given the information state of the 
system and the user. However, estimations of such a kind 
are the basis for the use of modals.  
Our work is loosely inspired by the treatment of modals in 
Crouch and Pulman (1993), but differs from their work in 
several crucial respects. Crouch and Pulman investigate the 
use of temporal and modal expressions in an NL-interface to 
a planner that produces partial plans in an engineering do-
main. Instead of using a modal logic with its underlying 
possible world semantics, the authors determine possible 
and necessary propositions against the range of plans avail-
able to solve a task. The necessity relation holds if the 
proposition (more specifically, the temporal orders and rela-
                                                 
2 This statement might be too strong in case of the use of sys-
temic grammars. Systemic grammars are able to convert complex 
modality-related speech-functions into corresponding modal ex-
pressions. However, systemic grammars do not consider content 
planning tasks that we are describing in this paper. 
tions in the corresponding formula) can be inferred from the 
plan description. In contrast to this, a formula is possible if 
its negation can be inferred from the plan description.  
3 The choice of modal verbs in CAN 
We are currently developing the CAN-system (Conceptuali-
zation for Modal Expressions) that generates recommenda-
tions about courses of study within the B.A. program of the 
Ruhr-Universit?t Bochum. A user provides the system with 
his/her current term number and the lectures he/she has fin-
ished so far, and the system generates a recommendation 
which lectures he should/must/shall/may/can take.  
A planner provides the partially ordered plan which de-
scribes the progression of the overall study from the current 
semester to the final degree. The propositions are checked in 
a piecemeal fashion in order to determine whether they nec-
essarily or possibly hold with respect to the conversational 
background. This procedure determines the modal force, 
and a subclass of the relevant modal verbs with it. After-
wards the pragmatic conditions will be checked to select the 
appropriate modal verb, and that verb is inserted into a syn-
tactic template for the corresponding sentence.   
We confine our analysis to epistemic and deontic meanings 
of the aforementioned modal verbs, because these readings 
are the most prominent ones in our domain. Deontic mean-
ings are determined by the structure and content of the plan 
to be verbalized. Epistemic meanings are determined by the 
discourse state. Both knowledge sources will be handled by 
the same procedure which makes an extension to other types 
of modal meanings manageable. In other words, we adopt 
the bipartite distinction between necessary and possible 
formulae, although this might not completely correspond to 
the fine-grained modal forces expressed in natural lan-
guages. Furthermore, we adopt the modeling of possibility 
as consistency with the conversational background, and ne-
cessity as entailment from that background.  
If one of the modal relations is true, we know what the mo-
dal force is, and are able to determine that subclass of modal 
verbs that expresses the proven modal force. Otherwise the 
underlying proposition will linguistically not be modalized. 
The deontic background is determined by the plan. Accord-
ing to the partially ordered plan, some lectures can only be 
attended if other lectures had already been completed suc-
cessfully, but this order does not hold between all lectures. 
The obligation to attend certain lectures during some semes-
ter can directly be read from the plan. The modal force will 
be derived from the plans. 
An epistemic background is given by what the system 
knows of the user?s current course of his study and the in-
formation provided by the system so far. For this, we use a 
discourse record that keeps track of the user?s input and 
what he has been told.  
3.1 Planning for the choice of modals  
The task of the planner is to place the obligatory lectures at 
the right nodes in the plan, and to determine possible nodes 
of the optional lectures. For example, while all students of 
Linguistics have to attend a lecture on pragmatics in the 
third semester, they can attend an additional lecture with a 
topic of their own choice, but the student must have satisfied 
its prerequisites already.  
An ?action? of the plan is realized as a pair that represents 
the status of the lecture with respect to the semester (obliga-
tory, optional), and the title of the lecture.  
Suppose a fully specified plan contains the following order 
of single lectures, starting with the second semester:   
 
2nd semester   3rd semester      4th semester 
 
       obl: pragmatics 
obl: formal_ 
semantics   obl: syntax      opt:parsing 
 
       opt: hpsg 
 
If each ?action? of this part of the plan shall linguistically be 
realized, only some of the four modal verbs are applicable.  
The use of the modals depends on the status of the lectures 
as being obligatory or optional in a certain semester, and the 
existence of certain preconditions of the planning operators. 
The distinguishing feature of obligatory lectures is that there 
are no alternatives for them; they are necessary courses in a 
certain semester. Hence, the lectures on semantics and prag-
matics will be mentioned in sentences with m?ssen as modal 
verb. Optional lectures appear to be more interesting be-
cause in principle they can be attended in any semester, as 
long as the prerequisites for their attendance have been 
achieved by the student. The prerequisites are modelled as 
preconditions of corresponding planning operators. Linguis-
tically, optionality is expressed by modals which express 
possibility as modal force, and the use of these modals is 
constrained by additional pragmatic conditions for their use. 
Whether the optional lectures on HSPG and parsing, respec-
tively, will be mentioned in sentences with k?nnen, d?rfen, 
or sollte depends on the decision to recommend or permit 
these lectures, which will be derived from conditions we 
will mention in the following section.  
To sum up, the choice of the appropriate modal verbs de-
pends on:  
- the status of the lecture, whether it is optional or 
obligatory in one semester, 
- the user?s possible achievement of prerequisites of 
optional lectures, 
- the placement of optional lectures in the overall 
plan, 
- pragmatic functions like expressing a permission or 
a recommendation. 
The first three factors belong to the conversational back-
ground, while the last one seems to be an additional con-
straint for the use of some of the modal verbs. Dealing with 
these aspects of the conversational background can be char-
acterized in the following way:  
Let P be the plan with the obligatory lectures placed in the 
right positions, and T(P) the set of all totally specified plans 
based on P that include possible placements of the optional 
lectures.  
Every lecture in P marked as obligatory is necessary with 
respect to the study process.  
Additionally, for every proposition p we check whether T(P) 
? p holds or T(P) ? {p} is true. If the former formula is 
true, the modal verb m?ssen can be realized. If the latter 
formula is true, we have to check whether the pragmatic 
conditions for the use of one of the modals verbs that ex-
press possibility are given in the discourse record. The cor-
responding decision results in the choice of the verb d?rfen, 
k?nnen, and sollte, respectively.  
3.1 An example: the choice of d?rfen and sollte  
The choice of d?rfen and sollte may illustrate the choice 
mechanism that takes into account the plan structure and the 
discourse state, respectively.  
Both d?rfen and sollte express possibility as modal force so 
that they compete with k?nnen as the unmarked modal verb 
for expressing possibility. Since d?rfen and sollte can only 
be used if specific pragmatic conditions are satisfied (and 
with restricted sets of conversational backgrounds), k?nnen 
will always be chosen if the modal force is possibility and 
the other two modals cannot be used. 
Expressing a permission by using d?rfen is based on the 
following conditions:  
(a) if the user is willing to begin his studies and CAN 
does not know whether he is registered at the uni-
versity at all, CAN asks for a corresponding con-
firmation. In case of a positive response the per-
mission to study the courses of the first semester 
can be given, and d?rfen will be used.  
(b) If CAN does not know whether some courses as 
preconditions of a course are satisfied it asks the 
user whether he attended these required courses. 
The user has to give this information, and the sys-
tem integrates the courses into the plan. Since the 
preconditions for the respective course are now sat-
isfied, the permission to attend this course will be 
signalled by the use of d?rfen.   
In general, our impression is that permissions ? the prag-
matic function of d?rfen when a deontic conversational 
background becomes relevant ? can best be derived in dia-
logue situations. An NLG-system that permits to attend a 
certain course must be set into the position to express the 
permission at all. In our scenario, this is the cased if CAN 
requires additional information and asks for it. In this re-
spect permissions are different from recommendations ex-
pressed by sollte, which can be determined without refer-
ence to a dialogue situation.  
Recommendations declare a certain state of affairs as advan-
tageous with respect to some goal. In our scenario, attending 
a course in a specific semester is advantageous for the com-
pletion of the course of study, if its attendance optimizes the 
number of semesters that are necessary for that completion.  
The system checks whether the course can successfully be 
integrated into the overall plan and computes the corre-
sponding consequences: If attending this course during the 
current semester does not increase the number of semesters 
required to achieve the completion within the normal dura-
tion of study, but a different course does, that is also offered 
for the current semester, then it is advantageous to attend 
this course, and the modal sollte is chosen. In other words, 
the system compares the consequences of attending courses 
with respect to the length of study.  
4 Future work 
The work reported in this paper describes the current state 
of the CAN-system. Our long-term goal is a wide coverage 
of modal expressions including all German modal verbs as 
well as other modals as, e.g., modal nouns, adverbs, and 
particles. The evaluation of the generated modal expressions 
is an additional research topic, as well as the interplay of 
modality with mood and temporality. 
Currently, our discourse record is a simplifying collection of 
propositions, but we will need a more sophisticated version 
of this knowledge store if modal subordination [Roberts, 
1989; Stone, 1999] becomes a topic of our research. Modal 
subordination becomes relevant in sentence pairs of the fol-
lowing kind: 
 
(5)  Du k?nntest den Semantik-Kurs besuchen. Dann musst 
du im folgenden Semester den Pragmatik-Kurs besu-
chen. (You could attend the semantics lecture. In this 
case you must attend the lecture on pragmatics in the 
next semester.) 
 
In order to choose m?ssen for the second sentence, the hy-
pothetical event introduced by the first sentence must be 
considered as background so that ordering sources will be-
come an additional factor for a discourse-sensitive choice of 
modals.  
Finally, the decision to modalize a proposition is often 
grounded in specific dialogue settings like the existence of 
social power relations between the participants, or their re-
spective beliefs of the beliefs states of the addressees. We 
assume that a dialogue situation explains the use of modals 
in a more natural way than the current model, as our current 
treatment of permissions already indicates. Therefore, in the 
long run CAN shall be able to react dynamically to user re-
quests. 
References 
[Busemann and Horacek, 1997] S. Busemann and H. 
Horacek. Generating air quality reports from environ-
mental data. Proceedings of the DFKI Workshop on 
NLG, pages 15-21, 1997.  
[Crouch and Pulman, 1993] R.S. Crouch and S.G. Pulman. 
Time and modality in a natural language interface to a 
planning system. Artificial Intelligence, 63: 265-304, 
1993. 
[Frank, 1996] A. Frank. Context dependence in modal con-
structions. Doctoral Dissertation, University of Stuttgart, 
1996. 
[Kratzer, 1977] A. Kratzer. What ?must? and ?can? must 
and can mean. Linguistics and Philosophy, 1:337-355, 
1977. 
[Milosavljevic, 1997] M. Milosavljevic. Content selection 
in comparison generation. Proceedings of the 6th Euro-
pean Workshop on Natural Language Generation, pages 
72-81. Duisburg, Germany, 1997. 
[Roberts, 1989] C. Roberts. Modal subordination and pro-
nominal anaphora in discourse. Linguistics and Philoso-
phy, 12: 683-721, 1989. 
[Stone, 1999] M. Stone. Reference to possible worlds. 
Technical report, Rutgers. Available at: 
http://www.cs.rutgers.edu/~mdstone/ 
[van der Auwera and Plungian, 1998] Modality?s semantic 
map. Linguistic Typology, 2: 79-124, 1998. 
[von Stechow, 2004] A. von Stechow. Schritte zur Satzse-
mantik. Ms., University of T?bingen. Available at: 
http://vivaldi.sfs.nphil.uni-tuebingen.de/ 
~arnim10/Lehre/Japan2004/Schritte1_17.pdf 
[Zifonun et al, 1997] G. Zifonun, L. Hoffmann and B. Stre-
cker (eds.) Grammatik der Deutschen Sprache, Vol. III; 
Chapter F5: Bedeutung der Modalverben. Berlin: Walter 
de Gruyter, 1997. 
 
Proceedings of the 12th European Workshop on Natural Language Generation, pages 102?105,
Athens, Greece, 30 ? 31 March 2009. c?2009 Association for Computational Linguistics
Towards a game-theoretic approach to content determination
Ralf Klabunde
Ruhr-Universita?t Bochum
Bochum, Germany
klabunde@linguistics.rub.de
Abstract
This paper argues for a game-theoretic ap-
proach to content determination that uses
text-type specific strategies in order to de-
termine the optimal content for various
user types. By means of content deter-
mination for the description of numerical
data the benefits of a game-theoretic treat-
ment of content determination are out-
lined.
1 Introduction
This is a programmatic paper on the principles of
content determination in natural language genera-
tion (NLG). It arose from the insight that we do not
know much about the underlying principles and
computational properties of several tasks in NLG.
Especially conceptualization ? the selection of the
information to be conveyed in a natural language
text, and the adaptation of this information to the
language-specific requirements ? is still a white
spot on the generation map (Guhe, 2007). Content
determination is that sub-process during concep-
tualization that is responsible for the selection of
the information to be conveyed and its ordering.
Several authors assume that establishing rhetori-
cal relations between informational units and the
successive construction of tree structures for the
overall information should also be considered as
a content determination task (see, e.g. Reiter and
Dale (2000)), but I will ignore this task in this pa-
per and confine my considerations to the selection
and ordering of informational units, in particular
propositions.
Content determination is coupled with the lin-
guistic domain in two ways, since the content does
not only need to be expressible in the target lan-
guage, but the determination process is already
affected by pragmatic organisation principles for
specific text types. I am convinced that game the-
ory is the appropriate tool for a formulation of
these principles.
In what follows, I will first explain why
content determination should be viewed as a
game played by the speaker/system S and
the speaker?s/system?s representation of a lis-
tener/user L ? the ?user model?. After that I will
outline the different strategies relevant for content
determination by means of the content for user-
tailored descriptions of numerical data.
2 Appproaches to content determination
in NLG
The various approaches to content determination
proposed in the literature may be classified in a
two-dimensional way, viz. with respect to infor-
mation flow (top down vs. bottom-up), and with
respect to the methods used (reasoning or the use
of schemas).
From an engineering perspective ? the dominant
view in NLG ? a top-down approach, focusing on
the communicative goal and using schemas which
determine where to realize which information, is
the most attractive and most often method used, al-
though it lacks of a theoretical grounding. A deep
reasoning approach would thus be more attractive,
but is not always feasible in practice.
One of the problems in content determination is
that the amount and quality of the information to
be conveyed depends on the interests and cognitive
abilities of the respective user and the coherence
requirement. Content determination is selecting
material from the domain in the hope that it will
permit a coherent realization as a text. Hence, this
sub-task should be viewed as a process that is also
constrained by pragmatic principles for establish-
ing coherence.
I proceed on the assumption that a theoretically
well-founded reasoning approach can be estab-
lished within the framework of analytic game the-
ory (see, e.g., Shoham and Leyton-Brown (2009)).
102
The benefit of a game theoretic treatment is its fo-
cus on interacting agents and the reasoning mech-
anisms associated with games: If we are able to
show that the content to be conveyed is determined
by concepts of rational interaction, then we get
insights into the principles that guide the overall
content determination process.
The basic ideas are as follows: First, the ran-
dom device ? used in game-theoretic pragmatics
to provide S with some meaning ? must be re-
placed by a function that maps informational units
of the domain to propositions. Additionally, L?s
reasoning capabilities are taken into account. The
interplay of both components reflects S?s cogni-
tive effort to construct the proposition and repre-
sents some of the adaptive cognitive mechanisms
of S . It is well known from pragmatic and psy-
cholinguistic studies that speakers do not only try
to minimize their own effort in the production pro-
cess, but that they take into account features of the
listener and adopt content and form of their utter-
ance to the listener?s assumed cognitive and lin-
guistic capabilities. Hence, the process of content
determination is guided by speaker-strategies and
adaptation processes which should be modelled as
adopted addressee-strategies. Under this view, the
ultimate goal of content determination is to find a
coherent catenation of propositions that is tailored
to the addressee: S is a decision-maker and she is
already playing with L at pre-linguistic stages.
3 Game theoretic pragmatics
Ja?ger (2007) describes the conception of game-
theoretic pragmatic analyses as follows: A game
is an utterance situation with a speaker S and a
hearer L as players. The actions performed by
these players are the production and interpretation
of utterances, and the payoffs represent the cogni-
tive and linguistic expenses of both players. If a set
M of meanings is given and a set F of linguistic
forms, a speaker strategy s is a function from M
to F . Accordingly, a hearer strategy h is a func-
tion from F to M . In this paper, I assume that
M is a set of propositions, i.e. a set of situative,
truth-functional, concepts.
Within this framework, the production process
is treated in a simplifying way. A random device
assigns some meaning m ? M to S who has to se-
lect an appropriate form f ? F . Successful com-
munication is given if L is able to reconstruct m
from f . The ?-function defines just this:
?m(s, h) =
{
1 iff h(s(m)) = m
0 otherwise
(1)
S has a choice between simple or more complex
expressions to express the meaning m. In order
to measure this complexity, a function cost from
F to the nonnegative real numbers is given whose
exact shape is of no interest for this paper. The
speaker utility us refers to the cost-function in ad-
dition to some positive coefficient k that repre-
sents the speaker?s priorities. A low value of k
indicates that communicative success is more im-
portant than minimal effort, and a high value of k
means that effort is more important than success.
us(m, s, h) = ?m(s, h)? k ? cost(s(m)) (2)
The addressee?s utility can be identified with the
?-function:
uh(m, s, h) = ?m(s, h) (3)
In order to adopt Ja?ger?s characterization of a
game-theoretic model of communication to NLG
purposes, one has to modify it into two direc-
tions. The minor change concerns the random de-
vice that assigns meanings to the speaker. I replace
this device by a function i that maps informational
units d of the domain D to propositions p ? M .
The production grammar s picks up these propo-
sitions and transforms them into linguistic forms
f .
The more substantial change concerns the
hearer strategy. From an NLG perspective, one is
not primarily interested in a hearer strategy that
maps forms to meanings, but in the effect of the
conveyed information w.r.t. the hearer?s informa-
tion state T
L
. The aim of S is to modify T
L
, but it
is L who decides how to process the information
conveyed by S . In general, L?s interpretation task
is to find an explanation for p on the basis of his
own beliefs. In other words, interpretation is ab-
ductive reasoning (Hobbs et al, 1993). Suppose
S conveys a set of propositions A. Then the ac-
tions available to L ? if A is new information for
him ? are several update mechanisms up(T
L
, A).
He may just add A to T
L
and accept A as new in-
formation without finding any explanation for A:
up(T
L
, A) = (T
L
? A) = T
L
. The other extreme
would be to compute the set of all logical conse-
103
quences of T
L
?A, i.e. up(T
L
, A) = Cn(T
L
?A).1
However, this set is just the ideal state of a logi-
cally omniscient person; a more realistic view is to
characterize the strategies of L by different depths
in reasoning, starting from depth = 0 (i.e. T
L
?A)
up to some information state close to Cn(T
L
?A).
I use up(T
L
, A) ? Cn(T
L
? A) to represent this
state. Note that up(T
L
, A) ? Cn(T
L
? A) is not
a fixed information state but depends on the user
type. If the players want to be communicatively
successful, L should ideally try to find an expla-
nation for A that results in that mentioned infor-
mation state. Hence, communicative success with
respect to a single proposition p may now be de-
fined by:
?d(s, h, i, up) =
?
?
?
?
?
?
?
?
?
?
?
1 iff h(s(i(d))) = i(d) = p
and
up(T
L
, p) ? Cn(T
L
? {p})
0 otherwise
(4)
The speaker utility is defined as:
us(s, h, i, up) = ?d(s, h, i, up) ? k ? cost(i(d))
(5)
and the hearer utility is
uh(s, h, i, up) = ?d(s, h, i, up) (6)
Within this overall picture of information ex-
change and communicative success, content deter-
mination is the interplay of i with up(T
L
, ran(i)),
i.e. the update of L?s information state with the
range of i. In the rest of this paper I will show
by means of an example how this interplay can be
spelled out in detail. As will hopefully become ap-
parent, the approach amounts to some sort of game
? a game that takes into account specific strategies
of S and the abductive inference strategies of L to
create a content that is optimal for both.
4 Content determination for reports of
numerical data
Let us assume that the content underlying reports
of performance data shall be tailored to an expert
and a layman, respectively. The essential concep-
tualization process for content of this type is the
summarization of numerical data to propositional
units that are tailored to the addressee?s needs. I
1Consider that abduction in its simplest form can be re-
formulated in deductive terms.
use normal form games for this task in which the
expertises of the users are reflected in different
Nash equilibria. L as expert requires content with
a different equilibrium than L as layman does.
The basic scenario is as follows: A speedome-
ter f provides data about speed and the distance
covered during a cycling tour. These numerical
data shall be transformed into propositional units
that are optimal for the respective user types. For
reasons of clarity, let us assume two different user
types only, a training expert and a layman who
want to receive a detailed and a more shallow de-
scription, respectively. In both cases the actual
values recorded by the speedometer will be com-
pared with ideal training values, and the deviations
from these ideal values shall be reported in the
generated text.
Of course, the main task for S is to summa-
rize these numerical data in single propositions,
but how to determine the amount of data to be put
into one proposition? I assume that S?s side of the
coin is an approximation problem. The grade of
detail required for the expert and the layman shall
be given by an approximation a of the function f .
Let us assume that the approximation is 1/10 for
the expert and 1/5 for the layman (?x ? dom(f) :
a(x) = x ? x/10 or a(x) = x ? x/5). Table
1 shows an exemplary function for the first seven
measure points and the approximations used.
distance speed ideal approx. approx.
n value 1/10 1/5
1 25.3 25 22.5 - 27.5 20.0 - 30.0
2 28.2 26 23.4 - 28.6 20.8 - 31.2
3 31.7 27 24.3 - 29.7 21.6 - 32.4
4 30.5 28 25.2 - 30.8 22.4 - 33.6
5 32.8 29 26.1 - 31.9 23.2 - 34.8
6 31.1 30 27.0 - 33.0 24.0 - 36.0
7 25.8 30 27.0 - 33.0 24.0 - 36.0
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
Table 1: Some numerical data
In addition to the values that are outside of the ap-
proximations, the degree of exceeding or going be-
low the ideal value should be taken into account
as well. We do not just want to generate a sen-
tence like at kilometer 3 you went too fast if the
actual values were outside the approximation hull
and much higher than the ideal one, but at kilome-
ter 3 you went much too fast. Therefore, we define
a threshold such that every value above that thre-
shold will be classified as being much higher than
104
the ideal value, and all values below that threshold
are classified as being an exiguous deviation from
that ideal value. Then the six relevant speaker ac-
tions are N-0, N-1, 1/10-0, 1/10-1, 1/5-0 and
1/5-1 with 0 and 1 indicating no use of a threshold
and the use of one relevant threshold, respectively.
According to section 3, the strategies of L con-
cern the interpretation grammar, i.e. the mapping
from linguistic forms to propositions (h : F ? P )
and an update of L?s information state that may
include (abductive) reasoning. The abductive in-
ferences drawn by the layman differ from those
of the expert by the profundity of the explana-
tion: While the layman is primarily interested in
increasing his fitness, the expert should be inter-
ested in a more profound explanation. Let us as-
sume three update strategies: NOINFERENCES, i.e.
up(T
L
, P ) = T
L
?P , EXHAUSTIVEREASONING,
i.e. up(T
L
, P ) = (T
L
? P ) ? Cn(T
L
? P ), and
MUNDANEREASONING, i.e. reasoning with only
a very limited number of inferences involved.
The payoffs for the players may be motivated
as follows. For S holds: A more detailed con-
tent requires more effort in providing that content.
Furthermore, realizing the degree of exceeding the
value requires additional cognitive effort. Since S
pursues to reduce her efforts, the highest payoff
will be associated with the lowest effort. The more
detailed the content is, the lesser is L?s effort to
reason. However, a text that explains everything
violates the Gricean maxim of quantity. There-
fore, L should prefer at least mundane reasoning,
and we could motivate the listener?s payoffs by the
number of inferences to be drawn.
The utility matrix in Table 2 shows the ac-
tion combinations of S and L as layman. The
Nash equilibrium is the strategy (1/5-0, MUN-
DANEREASONING); S will generate propositions
that comprise the numerical data outside of the
widest approximation hull, and without any fur-
ther differentiation w.r.t. the degree of exceeding
the ideal values. S knows that L?s interpretation of
the propositions is an abductive proof graph that
represents a simple explanation of them.
With L as expert the payoffs must be swapped.
Since the expert is able to find a more profound
explanation, he strives for exhaustive reasoning.
S , in turn, knows this and will therefore select
the smaller approximation. Hence, we get the
utility matrix in Table 3 with (1/10-0, EXHAUS-
TIVEREASONING) as Nash equilibrium.
NOINF. MUNDANER. EXH.R.
N-0 1,5 1,7 1,1
N-1 0,6 0,8 0,2
1/10-0 3,5 3,7 3,1
1/10-1 2,6 2,8 2,2
1/5-0 6,5 6,7 6,1
1/5-1 5,6 5,8 5,2
Table 2: Utility matrix with L as layman
NOINF. MUNDANER. EXH.R.
N-0 1,5 1,1 1,7
N-1 0,6 0,2 0,8
1/10-0 6,5 6,1 6,7
1/10-1 5,6 5,2 5,8
1/5-0 3,5 3,1 3,7
1/5-1 2,6 2,2 2,8
Table 3: Utility matrix with L as expert
5 Outlook
Due to the programmatic status of this paper, sev-
eral issues have been omitted we will deal with in
our future work. The most pressing tasks concern
the action sets of S and L that must be refined,
and the payoffs must be based on empirical obser-
vations. However, as sketchy as the given example
may be, it shows that NLG stands to benefit from
Game Theory.
References
Markus Guhe. 2007. Incremental Conceptualization
for Language Production. Lawrence Erlbaum, Mah-
wah, NJ.
Jerry Hobbs, Mark Stickel, Douglas Appelt, and Paul
Martin. 1993. Interpretation as Abduction. Artifi-
cial Intelligence, 63, 69-142.
Gerhard Ja?ger. 2007. Evolutionary Game Theory and
typology: a case study. Language, 83, 74?109.
Ehud Reiter and Robert Dale. 2000. Building Natural
Language Generation Systems. Cambridge Univer-
sity Press, Cambridge.
Yoav Shoham and Kevin Leyton-Brown. 2009. Mul-
tiagent Systems: Algorithmic, Game-theoretic and
Logical Foundations. Cambridge University Press,
Cambridge.
105
Proceedings of the 14th European Workshop on Natural Language Generation, pages 167?171,
Sofia, Bulgaria, August 8-9 2013. c?2013 Association for Computational Linguistics
Greetings Generation in Video Role Playing Games
Bjo?rn Schlu?nder
Ruhr-Universita?t Bochum
Department of Linguistics
Germany
bjoern.schluender@rub.de
Ralf Klabunde
Ruhr-Universita?t Bochum
Department of Linguistics
Germany
ralf.klabunde@rub.de
Abstract
We present first results of our project on
the generation of contextually adequate
greeting exchanges in video role playing
games. To make greeting exchanges com-
putable, an analysis of the factors influ-
encing greeting behavior as well as the
factors influencing greeting exchanges is
given. Based on the politeness model pro-
posed by Brown & Levinson (1987) we
develop a simple algorithm for the gener-
ation of greeting exchanges. An evalua-
tion, comparing dialog from the video role
playing game Skyrim to dialog determined
by our algorithm, shows that our algorithm
is able to generate greeting exchanges that
are contextually more adequate than those
featured by Skyrim.
1 Introduction
Though there has been a steep rise in interest in
video games during the past decade, both cultur-
ally as well as commercial, little has been done in
getting language technology involved in game de-
velopment. There is a huge contrast between the
steep development of almost every other aspect of
game development and the usage of language tech-
nology. To our knowledge there is not one game
of one of the major game companies that uses
sophisticated NLG-methods for the generation of
contextually adequate utterances. Modern games
feature rich voice acting, but often lack realistic
conversational situations. Voice acting, which be-
came standard in commercial productions around
the year 2000, hampered usage of language tech-
nology for quite some time, since e.g. speech syn-
thesis did not reach sufficient quality and therefore
would hurt immersion. Since then not only quality
of synthesis systems has increased, but synthesis-
like voice acting has also been used in successful
productions (e.g. Portal 1 & 2).
There is some work in the NLG community on
NLG in games (e.g., Koller et al 2004; Khosmood
and Walker 2010), but an intimate cooperation be-
tween game design and NLG does not exist on a
commercial level. Research in the fields of NLG
& game design is e.g. conducted at Expressive
Intelligence Studio at UC Santa Cruz, with cur-
rent projects (e.g. SpyFeet) focussing on combin-
ing NLG methods and computational dialog man-
agement in simple role playing games (Reed et al
2011).
By nature of their modern design, video games,
especially of the role playing genre, provide de-
tailed information on the spatial and social envi-
ronment, the agent types, their behavior and moti-
vation, the progress on and steps in certain goals
etc., so that context-related language generation
should be a feasible task.
In our paper, we show by means of an appar-
ently simple generation task, viz. the genera-
tion of greetings in greeting exchange situations,
how more appropriate linguistic expressions can
be generated if context features are taken into ac-
count. Our examples will be taken from the video
role playing game The Elder Scrolls V: Skyrim,
which shall henceforth simply be referenced as
Skyrim.
2 Video Role Playing Games (VRPGs)
Video games involve two kinds of players or
agents, respectively: player characters are agents
acting in the virtual game environment on behalf
of and controlled by the player, and non-player
characters (NPCs) are agents controlled by the
game software. Both agents interact with each
other by non-verbal and verbal means, the latter
typically realized by the selection of canned text
from an agent-dependent discourse tree.
The ultimate goal of a video game is immer-
sion: the player should get emotionally involved
with the environment, the NPCs and his charac-
167
ter. Text presented in video games is vital to the
immersion process. Form and content of the texts
presented depend on the player types and the story
telling method.
The essential features of VRPGs are the high
number of appearing NPCs, their multifaceted
models (skills, attributes, ?karma?, etc.), a branch-
ing story line and the possibility to take different
approaches to solve problems, many of the for-
mer being conversational. As a result, in VRPGs
conversations mostly take place directly within
the games virtual environment (as opposed to
cutscenes in many action games, i.e. episodes the
player is not able to control), which leads to the
high immersion factor of the genre.
2.1 Text in Video Games
Game texts are the major component in telling and
driving a game?s story. In most recent games they
are fully voice acted. Game texts can either be
categorized as storytelling text, written documents
appearing in the game, or dialog, which can be
further categorized as either scripted or interactive
dialog. The latter is mostly featured in games of
the branching storytelling type like VRPGs. These
games make rich use of interactive dialogue and
use it to fuel their story. Players have multiple
choices in dialogs and are able to use different ver-
bal approaches to solve conversational problems.
Nevertheless all possible dialog lines are still pre-
written during development ? there is just a lot
more of them. According to web sources Skyrim
comprises more than 60,000 dialog lines.
This demonstrates that game developers must
use an enormous amount of text that will be pre-
sented in the different episodes of a story. How-
ever, there is little variation within these texts to
keep development costs down. As a result, con-
versations may get an inappropriate character by
means of an iterated use of one and the same
text unit in subsequent scenes, or the constant,
inappropriate avoidance of ingame variables that
would bloat the number of dialog lines (e.g. gen-
der of agents).
In Skyrim this leads to constant skipping of real
conversation openers and real passing greetings.
As our evaluation below shows, even a minimal-
istic greeting exchange will be perceived as more
appropriate and therefore improve immersion.
3 Greeting Exchanges
Greeting exchanges are social practices that agents
in VRPGs should be able to master. According to
Firth (1972) the aim of a greeting exchange is to
establish or reestablish social relations in case of
conversation openers, or in case of passing greet-
ings ? if the agents are strangers ? guaranteeing a
safe passage. Both may also serve acknowledge-
ment of a different allocation of status.
Politeness is a central aspect of every type of
greeting exchange. Greeting exchanges as ad-
jacency pairs comprise a linguistic, a sociolin-
guistic, and an anthropological aspect (Williams
2001). Some of the variables influencing form and
content of a greeting exchange are:
? Attention of player and agents (e.g. are the
agents facing each other?)
? Time since last encounter between the two
parties (e.g. Skyrim?s NPCs do not make a
difference between the character leaving for
five minutes and leaving for days)
? Gender as social variable (e.g. in the soci-
ety in question, is a woman supposed to greet
first?)
? Physical variables: time of the day, physical
distance, noisiness of surroundings, crowd-
edness of the immediate environment. E.g.,
the last three variables influence wether a
verbal or a gestural greeting should be per-
formed.
In Skyrim, instantiations of these variables are
available during runtime because they are tracked
for various other functions of the game engine, but
only gender (?Hello master / mistress?) and dis-
tance (passing greetings will only occur in the im-
midiate vicinity of the player character) are actu-
ally utilized for greeting purposes. Also the nec-
essary variables underlying the politeness effect of
a greeting are implicitly given in a game; e.g. in
Skyrim the player will encounter kings as well as
peasants, and the sum of her deeds for certain fac-
tions are also tracked.
4 Computing Greeting Exchanges
Brown & Levinson?s (1987) well-known polite-
ness model uses the concepts of negative and pos-
itive face to explain polite behavior. The nega-
tive face comprises the want of every agent that
his actions be unimpeded by others. The positive
168
Trait Par. Value Motivation
shy ? 1.2 misinterprets social distance
? 1.3 afraid of authority
? 1.8 fears social impositions more
than anything else
uncouth ? 0.2 unaware of social distance
? 1.6 does recognize and respect
power
? 0.2 does not mind the impositions of
the FTA
Table 1: Values of ?-, ?- and ?-parameters for shy
and uncouth stereotypes
face is the want of every agent that his wants be
desirable to at least some others. Face threating
acts (FTAs) threaten the positive and/or the nega-
tive face of the addressee and/or the speaker. Po-
liteness is just a verbal or non-verbal means to at-
tenuate the FTA. According to Brown & Levinson
(1987) the weight Wx of a FTA x is calculated as
follows:
Wx = D(S,H) + P (H,S) +Rx
where D is the social distance between speaker S
and hearer H , P is the relative power the hearer
has over the speaker, and Rx is the ranking of the
impositions of a particular FTA x.
In Skyrim the background information for the
generation of appropriate greetings is available in
the course of the game, but the software makes
very limited use of the variables at its disposal.
Time since the last encounter is not taken into ac-
count as well as attention: Characters might have
been gone for days of ingame time and will hear
the same phrases as if they just left the room. The
character is also addressed by NPCs while they are
passing behind his back or sometimes while talk-
ing to other NPCs. This is clearly impolite greet-
ing behavior that is not licensed by urgency and
rudeness as an agent?s trait, since this affects all
NPCs.
More information available could be used to
calculate the social distance D and power P . The
social distance could be calculated by taking into
account the interacting agent?s ethnicities, their
profession, social skills etc., while relative power
could be calculated through factors like rank in or
standing with an organisation.
Finally and most importantly personal influ-
ences are implemented by the use of parameters
which simply adjust the impact of the social vari-
ables:
Wx = ??D(S,H) + ? ? P (H,S) + ? ?Rx
This allows for easy contrasting between char-
acter types. If we assume that a ?normal? greeting
behavior is based on a value of 1 for each of ?, ?
and ?, we assume exemplary values for the param-
eters for stereotypical shy and uncouth as seen in
Table 1.
As a result, our method not only generates dif-
ferent greetings w.r.t. different instantiations of
the physical and social variables, but also differ-
ent greetings for different agent types. Our algo-
rithm outlined in Table 2 generates a simple pass-
ing greeting exchange or a simple conversation
opener.
We assume that for every pair of agents (char-
acter and NPC) there is a Question Under Discus-
sion (QUD) stack of information that has not yet
been resolved (see, e.g., Djalali et al 2011). A
QUD-model for short-term discourse history can
also be utilized to lock the NPC in a certain con-
versational state (urgent quests), therefore giving
access to the notion of urgency which mitigates the
impact of impolite behavior, e.g. skipping greeting
exchanges, and also helps to keep discourse coher-
ent.
Besides the QUD stack we assume a database
which keeps record of the discourse history be-
yond the QUD-stack. Elements resolved (popped
from the stack) are stored in the database. This
database also helps to keep track of relations be-
tween the two agents and directly affects the so-
cial distance component. Relative power is un-
touched. The database also keeps track of agent-
specific information like faction, rank, and others
as well as agent-pair specific data, like time since
last encounter.
Since we do not have access to Skyrim?s source
code, our algorithm has not been implemented yet.
However, given greetings from Skyrim, the out-
lined algorithm can be used to determine mod-
ified greetings whose quality has been evalu-
ated by players. For example, when entering
an alchemist?s store the following example dialog
might occur in Skyrim (A being the alchemist, P
being the player character):
A: You look rather pale. Could be Ataxia. It?s
quite a problem back home in Cyrodiil.
P: [not realized]
P: [initiates conversation; not realized]
A: Pardon me, but do I detect a case of the Rat-
tles? I?ve got something for that.
169
1 check for possibility of a greeting exchange: 13 if greeting character is a player character:
2 ? checking agent type (normal, shy, uncouth) 14 ? generate passing greeting or conversational opener.
3 ? line of sight between agents? 15 ? present player with options to choose from.
4 ? agents paying attention to e.o.? 16 ? add greeting phrase to discourse history.
5 ? distance between agents appropriate? 17 ? check for circumstances that might reduce impact
of FTA (e.g. urgency)
6 ? one of agents trying to hide? 18 ? apply politeness impact on standing and/or karma.
7 gather possible and situationally fitting greeting
phrases / schemes for either. . .
19 else if greeting character is a NPC:
8 ? A passing greeting or 20 ? choose greeting according to NPCs role and model
9 ? A conversation opener 21 ? generate chosen phrase.
10 look for physical modifiers that influence mode of
greeting (e.g. noisiness of surrounding)
22 ? add chosen phrase to discourse history
11 look for situational modifiers that override politeness
calculation
22 output to player
12 calculate politeness with regards to agent types
Table 2: Proposed algorithm for greeting exchange generation.
P: [not realized]
P: [chooses from variety of conversation topics]
Utilizing our algorithm, the following dialog
might unfold.
A: Good morning and welcome to my store.
P: Good morning.
A: How may I serve you?
P: [chooses from variety of conversation topics]
One can see that while the pre-written dialog lines
give a lot of background information about the
game world, their usage in the initial dialog stages
seems a bit odd.
5 Evaluation
To evaluate the suggested method of computing
greeting exchanges, we designed a questionnaire
containing descriptions (in a pen & paper RPG
style) of five different situations from Skyrim.
These situations have been chosen because of their
unfitting pragmatic realisation. For each situa-
tion, we presented a set of follow-up dialog sit-
uations which contained the original dialog from
Skyrim, dialog determined by our algorithm (mi-
nus urgency, as it would allow to skip greeting ex-
changes) as well as by a simple approach that only
took into account attention and minimalistic greet-
ings.
We used transcripts from the original dialog
to eliminate potential bias from different meth-
ods of presentation as well as to ensure that sub-
jects would not recognize the original dialog from
Skyrim. The subjects were then asked to evaluate
the dialog situations according to appropriateness,
politeness, social distance, relative power as well
as feeling a sense of urgency. In addition we asked
the subjects for a short self-evaluation of their ex-
perience with video and role playing games as
well as their experience with Skyrim. Out of seven
participants two did not have any experience with
video or role playing games. Two participants had
played Skyrim. They evaluated the overall linguis-
tic realisation with a score of 7 out of 9 and were
able to recognize the situations as well as the dia-
log options from Skyrim. Table 3 shows the over-
all evaluation results.
very medium not
Skyrim 1.4 1.4 4.2
simple 2 4 1
our alg. 4.2 1.4 1.2
Skyrim 0.2 1.8 5
simple 1.6 4 1.4
our alg. 4.6 1.6 0.8
Table 3: Average no. of choices for appropriate-
ness (above) and politeness (below)
In this setting, Skyrim?s passing greetings and
conversation openers generally were perceived as
much less appropriate than the alternatives pre-
sented, while greetings determined by our algo-
rithm were perceived as the most appropriate in
all scenarios by the majority of all participants.
Skyrim?s greeting exchanges were also mostly as-
sociated with only little social distance and were
perceived as relatively impolite. The opposite was
true for greetings determined by our algorithm: in
every scenario the majority of participants chose
them as the most polite one.
170
References
Penelope Brown and Stephen C. Levinson. 1987. Po-
liteness: Some universals in language usage. Cam-
bridge University Press, Cambridge
Alex Djalali, David Clausen, Sven Lauer, Karl Schultz
and Christopher Potts. 2011. Modeling Expert Ef-
fects and Common Ground Using Questions Under
Discussion. Proceedings of the AAAI Workshop on
Building Representations of Common Ground with
Intelligent Agents.
Raymond Firth. 1972. Verbal and Bodily Rituals of
Greeting and Parting. The Interpretation of Ritual:
1?38.
J.S. La Fontaine (Ed.). 1972. The Interpretation of
Ritual. Tavistock Publications, London.
Alexander Koller, Ralph Debusmann, Malte Gabsdil
and Kristina Striegnitz. 2004. Put my galakmid coin
into the dispenser and kick it: Computational Lin-
guistics and Theorem Proving in a Computer Game.
Journal of Logic, Language and Information, 13 (2):
187?206.
Foaad Khosmood and Marilyn Walker. 2010.
Grapevine: a gossip generation system. Proceed-
ings of the 5th International Conference on the
Foundations of Digital Games, New York, NY, USA:
92?99.
Aaron A. Reed, Ben Samuel, Anne Sullivan, Ricky
Grant, April Grow, Justin Lazaro, Jennifer Mahal,
Sri Kurniawan, Marilyn Walker and Noah Wardrip-
Fruin. 2011. SpyFeet: An Exercise RPG. Pro-
ceedings of the 6th International Conference on the
Foundations of Digital Games.
Jesse Schell. 2008. The Art of Game Design: A book
of lenses. Elsevier/Morgan Kaufmann, Amsterdam
and Boston.
Kenneth E. Williams. 2001. An Evaluation of Greet-
ing Exchanges in Textbooks and Real Life Settings.
Sophia Junior College Faculty Journal, 21:49?64.
171
